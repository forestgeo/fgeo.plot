<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>List plots of tree-tag status by subquadrat (good for .pdf output). — plot_tag_status_by_subquadrat • fgeo.plot</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="List plots of tree-tag status by subquadrat (good for .pdf output). — plot_tag_status_by_subquadrat" />

<meta property="og:description" content="This function maps tree tags by status and outputs a list of maps that can be
printed on a .pdf file. Each map shows four subquadrats within a quadrat. The
symbols on the map represent the status of each tree -- not the status of
each stem. Although you should likely provide data of only one or two
censuses, plot_tag_status_by_subquadrat() will summarize the data to reduce
overplotting. The data on the map summarizes the history of each stem across
all censuses provided. Each tag will appear in the map only once or twice: *
A tag will appear once if it belongs to a tree which status was unique across
all censuses provided -- either &quot;alive&quot; or &quot;dead&quot;. * A tag will appear twice
if it belongs to a tree which status was &quot;alive&quot; in at least one census, and
also &quot;dead&quot; in at least one other census. This feature avoids unintentional
overplotting and makes interpreting the map easier." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fgeo.plot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9402</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.plot">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>List plots of tree-tag status by subquadrat (good for .pdf output).</h1>
    <small class="dont-index">Source: <a href='https://github.com/forestgeo/fgeo.plot/blob/master/R/plot_tag_status_by_subquadrat.R'><code>R/plot_tag_status_by_subquadrat.R</code></a></small>
    <div class="hidden name"><code>plot_tag_status_by_subquadrat.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function maps tree tags by status and outputs a list of maps that can be
printed on a .pdf file. Each map shows four subquadrats within a quadrat. The
symbols on the map represent the status of each tree -- not the status of
each stem. Although you should likely provide data of only one or two
censuses, <code>plot_tag_status_by_subquadrat()</code> will summarize the data to reduce
overplotting. The data on the map summarizes the history of each stem across
all censuses provided. Each tag will appear in the map only once or twice: *
A tag will appear once if it belongs to a tree which status was unique across
all censuses provided -- either "alive" or "dead". * A tag will appear twice
if it belongs to a tree which status was "alive" in at least one census, and
also "dead" in at least one other census. This feature avoids unintentional
overplotting and makes interpreting the map easier.</p>
    
    </div>

    <pre class="usage"><span class='fu'>plot_tag_status_by_subquadrat</span>(<span class='no'>vft</span>, <span class='kw'>x_q</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>x_sq</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>y_q</span> <span class='kw'>=</span> <span class='fl'>20</span>,
  <span class='kw'>y_sq</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>subquad_offset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>bl</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>br</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>tr</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>tl</span> <span class='kw'>=</span> <span class='fl'>4</span>, <span class='kw'>title_quad</span> <span class='kw'>=</span> <span class='st'>"Site Name, YYYY. Quadrat:"</span>, <span class='kw'>show_page</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>show_subquad</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>point_shape</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>19</span>, <span class='fl'>4</span>), <span class='kw'>point_size</span> <span class='kw'>=</span> <span class='fl'>1.5</span>,
  <span class='kw'>tag_size</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>header</span> <span class='kw'>=</span> <span class='fu'><a href='header_tag_status.html'>header_tag_status</a></span>(),
  <span class='kw'>theme</span> <span class='kw'>=</span> <span class='fu'><a href='theme_tag_status.html'>theme_tag_status</a></span>(), <span class='kw'>move_edge</span> <span class='kw'>=</span> <span class='fl'>0</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>vft</th>
      <td><p>A dataframe -- specifically, a ForestGEO ViewFullTable.</p></td>
    </tr>
    <tr>
      <th>x_q, y_q</th>
      <td><p>Size in meters of a quadrat's side. For ForestGEO sites, a
common value is 20.</p></td>
    </tr>
    <tr>
      <th>x_sq, y_sq</th>
      <td><p>Size in meters of a subquadrat's side. For ForestGEO-CTFS
sites, a common value is 5.</p></td>
    </tr>
    <tr>
      <th>subquad_offset</th>
      <td><p><code>NULL</code> or <code>-1</code>. <code>NULL</code> defines the first column of
subquadrats as 1.  <code>-1</code> defines the first column of subquadrats as 0.</p><pre>subquad_offset = NULL    subquad_offset = -1
---------------------    -------------------
     14 24 34 44             04 14 24 34
     13 23 33 43             03 13 23 33
     12 22 32 42             02 12 22 32
     11 21 31 41             01 11 21 31
</pre></td>
    </tr>
    <tr>
      <th>bl, br, tr, tl</th>
      <td><p>Number or character giving the label of the four
subquadrats on each or the four divisions of a quadrat: bottom left (bl),
bottom right (br), top right (tr), and top left (tl).</p></td>
    </tr>
    <tr>
      <th>title_quad</th>
      <td><p>A string to use as a title.</p></td>
    </tr>
    <tr>
      <th>show_page</th>
      <td><p>Logical; <code>FALSE</code> removes the page label from the map title.</p></td>
    </tr>
    <tr>
      <th>show_subquad</th>
      <td><p>Logical; <code>FALSE</code> removes subquadrat labels on each map.</p></td>
    </tr>
    <tr>
      <th>point_shape</th>
      <td><p>A vector of two numbers giving the shape of the points to
plot (see possible shapes in the documentation of ?<code><a href='https://www.rdocumentation.org/packages/graphics/topics/points'>graphics::points()</a></code>,
under the section entitled <em>'pch' values</em>).</p></td>
    </tr>
    <tr>
      <th>point_size</th>
      <td><p>A number giving points size. Passed to
<code><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>ggplot2::geom_point()</a></code>.</p></td>
    </tr>
    <tr>
      <th>tag_size</th>
      <td><p>A number giving tag size. Passed to
<a href='https://www.rdocumentation.org/packages/ggrepel/topics/geom_text_repel'>ggrepel::geom_text_repel</a>.</p></td>
    </tr>
    <tr>
      <th>header</th>
      <td><p>A string to use as a header (see <a href='headers.html'>headers</a>).</p></td>
    </tr>
    <tr>
      <th>theme</th>
      <td><p>An object of class theme.</p></td>
    </tr>
    <tr>
      <th>move_edge</th>
      <td><p>A number to adjust the extension of the grid lines beyond
the plot limits.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of ggplots, where each element of the list is a map of tree
tags by status, showing four subquadrats.</p>
    
    <h2 class="hasAnchor" id="acknowledgment"><a class="anchor" href="#acknowledgment"></a>Acknowledgment</h2>

    
    <p>Useful ideas and guidance came from Suzanne Lao, Stuart Davis, Shameema
Jafferjee Esufali, David Kenfack and Anudeep Singh. Anudeep Sinh also wrote
the algorithm to calculate subquadrats.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://www.rdocumentation.org/packages/graphics/topics/points'>graphics::points()</a></code>, <code><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>ggplot2::geom_point()</a></code>, <code><a href='https://ggplot2.tidyverse.org/reference/theme.html'>ggplot2::theme()</a></code>
<code><a href='header_tag_status.html'>header_tag_status()</a></code>, <code><a href='theme_tag_status.html'>theme_tag_status()</a></code>, <code><a href='https://www.rdocumentation.org/packages/fgeo.tool/topics/add_subquad'>fgeo.tool::add_subquad()</a></code>,
<a href='https://www.rdocumentation.org/packages/ggrepel/topics/geom_text_repel'>ggrepel::geom_text_repel</a>.</p>
<p>Other plot functions: <code><a href='autoplot.fgeo_habitat.html'>autoplot.fgeo_habitat</a></code>,
  <code><a href='autoplot.sp_elev.html'>autoplot.sp_elev</a></code>,
  <code><a href='autoplot_by_species.sp_elev.html'>autoplot_by_species.sp_elev</a></code>,
  <code><a href='plot_dbh_bubbles_by_quadrat.html'>plot_dbh_bubbles_by_quadrat</a></code></p>
<p>Other functions to list plots from ForestGEO ViewFullTable: <code><a href='plot_dbh_bubbles_by_quadrat.html'>plot_dbh_bubbles_by_quadrat</a></code></p>
<p>Other functions to plot tag status: <code><a href='header_tag_status.html'>header_tag_status</a></code>,
  <code><a href='theme_tag_status.html'>theme_tag_status</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Create a small VieFullTable</span>
<span class='no'>first</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='no'>x</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sort'>sort</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/unique'>unique</a></span>(<span class='no'>x</span>))[<span class='fl'>1</span>]
<span class='no'>small_vft</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='kw pkg'>fgeo.x</span><span class='kw ns'>::</span><span class='no'><a href='https://www.rdocumentation.org/packages/fgeo.x/topics/datasets'>vft_4quad</a></span>, <span class='fu'>first</span>(<span class='no'>CensusID</span>) <span class='kw'>&amp;</span> <span class='fu'>first</span>(<span class='no'>QuadratID</span>))

<span class='fu'>plot_tag_status_by_subquadrat</span>(<span class='no'>small_vft</span>)</div><div class='output co'>#&gt; $`621_1`</div><div class='img'><img src='plot_tag_status_by_subquadrat-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; $`621_2`</div><div class='img'><img src='plot_tag_status_by_subquadrat-2.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; $`621_3`</div><div class='img'><img src='plot_tag_status_by_subquadrat-3.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; $`621_4`</div><div class='img'><img src='plot_tag_status_by_subquadrat-4.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; </div><div class='input'>
# Print all plots to .pdf, with parameters optimized for size letter
</div><span class='co'># NOT RUN {</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/grDevices/topics/pdf'>pdf</a></span>(<span class='st'>"map.pdf"</span>, <span class='kw'>paper</span> <span class='kw'>=</span> <span class='st'>"letter"</span>, <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>10.5</span>, <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>8</span>)
<span class='fu'>plot_tag_status_by_subquadrat</span>(<span class='no'>small_vft</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/grDevices/topics/dev'>dev.off</a></span>()
<span class='co'># }</span><div class='input'>
<span class='co'># Be careful if filtering by DBH: You may unintentionally remove dead trees.</span>
<span class='co'># * If you filter by `DBH`, you loose the dead trees becaue their `DBH = NA`</span>
<span class='co'># * You should explicietly inlcude missing DBH values with `is.na(DBH)`</span>
<span class='no'>include_missing_dbh</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/subset'>subset</a></span>(<span class='no'>small_vft</span>, <span class='no'>DBH</span> <span class='kw'>&gt;</span> <span class='fl'>20</span> <span class='kw'>|</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/NA'>is.na</a></span>(<span class='no'>DBH</span>))
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'>plot_tag_status_by_subquadrat</span>(<span class='no'>include_missing_dbh</span>)
<span class='co'># Showing only the first plot to keep the output short</span>
<span class='no'>p</span><span class='kw'>[[</span><span class='fl'>1</span>]]</div><div class='img'><img src='plot_tag_status_by_subquadrat-5.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Customizing the maps ----------------------------------------------------</span>
<span class='co'># Common tweaks</span>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'>plot_tag_status_by_subquadrat</span>(
  <span class='no'>small_vft</span>,
  <span class='kw'>show_page</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>show_subquad</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)
<span class='no'>p</span><span class='kw'>[[</span><span class='fl'>1</span>]]</div><div class='img'><img src='plot_tag_status_by_subquadrat-6.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'>plot_tag_status_by_subquadrat</span>(
  <span class='no'>small_vft</span>,
  <span class='kw'>title_quad</span> <span class='kw'>=</span> <span class='st'>"BCI 2012. Quadrat: "</span>,
  <span class='kw'>bl</span> <span class='kw'>=</span> <span class='st'>"bottom-left"</span>, <span class='kw'>br</span> <span class='kw'>=</span> <span class='st'>"bottom-right"</span>, <span class='kw'>tr</span> <span class='kw'>=</span> <span class='st'>"top-right"</span>, <span class='kw'>tl</span> <span class='kw'>=</span> <span class='st'>"top-left"</span>,
  <span class='kw'>header</span> <span class='kw'>=</span> <span class='st'>"Line 1: _________\nLine 2:\nLine 3:....................."</span>,
  <span class='kw'>subquad_offset</span> <span class='kw'>=</span> -<span class='fl'>1</span>,
  <span class='kw'>point_size</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>point_shape</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>17</span>, <span class='fl'>6</span>),
  <span class='kw'>tag_size</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>move_edge</span> <span class='kw'>=</span> <span class='fl'>0.5</span>
)
<span class='no'>p</span><span class='kw'>[[</span><span class='fl'>1</span>]]</div><div class='img'><img src='plot_tag_status_by_subquadrat-7.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Themes</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>ggplot2</span>)

<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'>plot_tag_status_by_subquadrat</span>(<span class='no'>small_vft</span>, <span class='kw'>theme</span> <span class='kw'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_gray</a></span>())
<span class='no'>p</span><span class='kw'>[[</span><span class='fl'>1</span>]]</div><div class='img'><img src='plot_tag_status_by_subquadrat-8.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Tweaking the default theme of plot_tag_status_by_subquadrat()</span>
<span class='co'># For many more options see ?ggplot2::theme</span>
<span class='no'>small_tweak</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='theme_tag_status.html'>theme_tag_status</a></span>(<span class='kw'>legend.position</span> <span class='kw'>=</span> <span class='st'>"bottom"</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'>plot_tag_status_by_subquadrat</span>(<span class='no'>small_vft</span>, <span class='kw'>theme</span> <span class='kw'>=</span> <span class='no'>small_tweak</span>)
<span class='no'>p</span><span class='kw'>[[</span><span class='fl'>1</span>]]</div><div class='img'><img src='plot_tag_status_by_subquadrat-9.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#acknowledgment">Acknowledgment</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/maurolepore'>Mauro Lepore</a>, <a href='http://www.forestgeo.si.edu/'>CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

